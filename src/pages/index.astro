---
export const prerender = false;
import Layout from "../layouts/Layout.astro";

// Check if user is authenticated
const { data: { session } } = await Astro.locals.supabase.auth.getSession();
const isAuthenticated = !!session;

// If authenticated, redirect to sessions, otherwise show the landing page
if (isAuthenticated) {
  return Astro.redirect("/sessions");
}
---

<Layout title="Physia - Personalized Exercise Plans">
  <div class="container mx-auto px-4 py-12">
    <section class="text-center max-w-3xl mx-auto mb-16">
      <h1 class="text-4xl md:text-5xl font-bold text-blue-700 mb-6">
        Personalized Exercise Plans for Overload-Related Muscle Pain
      </h1>
      <p class="text-xl text-gray-600 mb-8">
        Get custom exercise plans based on your specific body pain points, 
        curated by physiotherapists and personalized by advanced AI.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="/login" 
          class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors"
        >
          Log In
        </a>
        <a 
          href="/register" 
          class="px-6 py-3 bg-white border border-blue-600 text-blue-600 hover:bg-blue-50 font-medium rounded-lg transition-colors"
        >
          Create Account
        </a>
      </div>
    </section>
    
    <section class="grid md:grid-cols-3 gap-8 mb-16">
      <div class="bg-white p-6 rounded-lg shadow-sm">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">Select Body Area</h2>
        <p class="text-gray-600">Choose from four key areas: Neck & Upper Back, Lower Back, Wrists & Forearms, or Hips & Knees.</p>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow-sm">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">Rate Your Pain</h2>
        <p class="text-gray-600">Use our simple sliding scale to indicate your pain level for specific muscle tests.</p>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow-sm">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">Get Your Plan</h2>
        <p class="text-gray-600">Our AI generates a personalized exercise plan based on your inputs and expert physiotherapy data.</p>
      </div>
    </section>
    
    <section class="bg-blue-50 p-8 rounded-lg">
      <h2 class="text-2xl font-bold text-center text-blue-800 mb-6">Why Physia?</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">Expert Guidance</h3>
          <p class="text-gray-600">All exercises are developed by licensed physiotherapists with years of experience.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">AI Personalization</h3>
          <p class="text-gray-600">Advanced AI tailors exercise plans to your specific needs and pain intensity.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">Track Progress</h3>
          <p class="text-gray-600">Save your sessions and track how your exercises and pain levels change over time.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">Convenience</h3>
          <p class="text-gray-600">Access your personalized exercise plans anytime, anywhere through our web platform.</p>
        </div>
      </div>
    </section>
  </div>
</Layout>
